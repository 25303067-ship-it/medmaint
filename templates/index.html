<!DOCTYPE html>
<html>
<head>
    <title>Panel - MedMaint</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/4adad0b06d.js" crossorigin="anonymous"></script>
</head>
<body class="bg-light">

<div class="container mt-4">

<h2 class="mb-4">
    <i class="fa-solid fa-screwdriver-wrench"></i> Panel de Mantenimiento
</h2>

<div class="row mb-4">
    <div class="col-md-3">
        <div class="card text-white bg-primary shadow">
            <div class="card-body">
                <h5>Total</h5>
                <h3>{{ total }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-white bg-warning shadow">
            <div class="card-body">
                <h5>Pendientes</h5>
                <h3>{{ pendientes }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-white bg-info shadow">
            <div class="card-body">
                <h5>En proceso</h5>
                <h3>{{ proceso }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card text-white bg-success shadow">
            <div class="card-body">
                <h5>Finalizadas</h5>
                <h3>{{ finalizadas }}</h3>
            </div>
        </div>
    </div>
</div>

<form method="GET" class="row mb-3">
    <div class="col-md-4">
        <input type="text" name="buscar" class="form-control" placeholder="Buscar equipo...">
    </div>

    <div class="col-md-3">
        <select name="estado" class="form-select">
            <option value="">Todos los estados</option>
            <option value="Pendiente">Pendiente</option>
            <option value="En proceso">En proceso</option>
            <option value="Finalizado">Finalizado</option>
        </select>
    </div>

    <div class="col-md-2">
        <button class="btn btn-dark w-100">
            Filtrar
        </button>
    </div>
</form>

<form method="POST" action="/crear" class="row mb-4">
    <div class="col-md-6">
        <input type="text" name="equipo" class="form-control" placeholder="Nombre del equipo" required>
    </div>
    <div class="col-md-2">
        <button class="btn btn-success w-100">
            Crear
        </button>
    </div>
</form>

<div class="card shadow">
<div class="card-body">
<table class="table table-hover">
<thead>
<tr>
<th>Equipo</th>
<th>TÃ©cnico</th>
<th>Estado</th>
<th>Fecha</th>
<th>Acciones</th>
</tr>
</thead>
<tbody>
{% for o in ordenes %}
<tr>
<td>{{ o.equipo }}</td>
<td>{{ o.tecnico }}</td>
<td>{{ o.estado }}</td>
<td>{{ o.fecha.strftime("%d/%m/%Y") }}</td>
<td>
<a href="/cambiar/{{ o.id }}" class="btn btn-sm btn-primary">Cambiar</a>
<a href="/borrar/{{ o.id }}" class="btn btn-sm btn-danger">Borrar</a>
</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</div>

</div>
</body>
</html>